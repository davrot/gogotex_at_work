# Migration Readiness Checklist

This document defines the canonical checklist that each service migration from Node â†’ Go must satisfy _before_ the production runtime is flipped.

## Per-service readiness checklist

For a service (e.g., `services/chat`) to be considered "migration-ready" the following MUST be satisfied:

- Parity tests:
  - Unit tests for the new Go implementation exist and pass (`go test ./...`).
  - Contract/integration tests asserting parity with the Node implementation exist and pass in CI (e.g., `scripts/contract/compare_*_parity.sh`).

- Performance & SLOs:
  - Benchmarks exist for critical paths (e.g., message lookup, introspection) and published p50/p95/p99 artifacts.
  - Bench p95 is within the agreed SLO for the service (documented per service). Bench job runs in CI and is gated.

- Deployment & CI:
  - Dockerfile produces a Go-based image and pass basic smoke tests.
  - `docker-compose`/dev scripts are updated and documented for local runs.
  - CI jobs are added/updated to build, test, and benchmark the Go binary for the service.

- Rollout & rollback:
  - A documented rollout plan exists with canary steps, health probes, and metrics to watch.
  - A rollback plan and required alerts are documented and owners assigned.

- Observability & policy checks:
  - Structured logs and metrics mirror the Node implementation and are validated in CI (e.g., presence of key fields).
  - Security & dependency checks (Snyk/Dependabot or equivalent) cover the Go module.

- Ownership & scheduling:
  - Each migration has an owner and a timeboxed plan (estimate in story points or hours).

## Governance

- PRs that change production runtime MUST reference the checklist and include evidence in the PR body (test artifacts, benchmark outputs, and deployment plan).
- CI must prevent merges that change production runtime when any checklist item for the affected service is missing or failing.

## Template for per-service readiness

Create a short document for each service that lists the concrete artifacts and a link to the PR that validated them (example: `docs/migrations/services/chat.md`).

---

Generated by: migration governance tooling
